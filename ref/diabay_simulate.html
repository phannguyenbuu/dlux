<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Simulate</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: #0a0e1c;
      color: #f5f6ff;
      font-family: Arial, Arial, sans-serif;
    }
    #wrap {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    #title {
      font-size: 18px;
      margin: 10px 0 6px;
    }
    #moving {
      font-size: 16px;
      margin: 0 0 8px;
    }
    #controls {
      width: 90%;
      max-width: 900px;
      display: flex;
      align-items: center;
      gap: 12px;
      margin-top: 12px;
    }
    #play {
      border: 1px solid rgba(232, 235, 255, 0.25);
      background: rgba(17, 21, 46, 0.6);
      color: rgba(232, 235, 255, 0.9);
      font-size: 12px;
      padding: 6px 12px;
      border-radius: 8px;
      cursor: pointer;
    }
    #slider {
      flex: 1;
    }
    canvas {
      background: #0a0e1c;
    }
  </style>
</head>
<body>
  <div id="wrap">
    <div id="title">Simulate</div>
    <div id="moving">Moving index: -</div>
    <canvas id="c"></canvas>
    <div id="controls">
      <button id="play" aria-label="Play/Pause">
        <svg viewBox="0 0 20 20" width="16" height="16" aria-hidden="true">
          <polygon points="6,4 16,10 6,16" fill="currentColor" />
        </svg>
      </button>
      <input id="slider" type="range" min="0" max="1" step="0.001" value="0" />
    </div>
  </div>
  <script>
  const DATA = {"canvas":{"h":539,"w":738},"gap":20,"regions":[[[370.82000000000005,174.02],[370.82,194.79999999999998],[393.02,195.84]],[[370.82,194.79999999999998],[370.82000000000005,174.02],[348.63000000000005,195.84]],[[370.82,194.79999999999998],[370.82,227.72],[402.92,227.90000000000006]],[[370.82,227.72],[370.82,194.79999999999998],[338.73,227.90000000000006]],[[370.82,227.72],[370.8200000000001,250.65000000000006],[402.92,227.90000000000006]],[[370.8200000000001,250.65000000000006],[370.82,227.72],[338.73,227.90000000000006]],[[370.8200000000001,250.65000000000006],[370.82,278.26],[430.11000000000007,278.26]],[[370.82,278.26],[370.8200000000001,250.65000000000006],[311.54,278.26]],[[370.82,278.26],[370.8200000000001,306],[393.36,292.34]],[[370.8200000000001,306],[370.82,278.26],[348.29,292.34]],[[370.8200000000001,306],[370.8200000000001,339.40000000000003],[396.23,322.02]],[[370.8200000000001,339.40000000000003],[370.8200000000001,306],[345.42,322.02]],[[381.90936948197304,378.77916006681284],[380.06,376.39],[383.720174143441,374.94329523049714]],[[383.720174143441,374.94329523049714],[380.06,376.39],[370.8533333333333,364.67359281437126]],[[383.720174143441,374.94329523049714],[370.8533333333333,364.67359281437126],[370.8200000000001,339.40000000000003]],[[359.8689096164275,378.44687620550945],[358.0733554924218,374.54080779792304],[370.8533333333333,364.67359281437126]],[[370.8533333333333,364.67359281437126],[358.0733554924218,374.54080779792304],[370.8200000000001,339.40000000000003]],[[370.8200000000001,402.27],[370.8533333333333,364.67359281437126],[380.06,376.39]],[[370.8200000000001,402.27],[380.06,376.39],[381.90936948197304,378.77916006681284]],[[370.8200000000001,402.27],[370.8533333333333,364.67359281437126],[359.8689096164275,378.44687620550945]],[[370.8200000000001,402.27],[370.82,422.5],[384.5,409.34]],[[370.82,422.5],[370.8200000000001,402.27],[357.15,409.34]],[[370.82,422.5],[370.8200000000001,482.42],[384.5,409.34]],[[370.8200000000001,482.42],[370.82,422.5],[357.15,409.34]],[[255.38000000000002,251.52000000000004],[278.7466908630492,228.5267045334167],[290.92,251.23]],[[290.92,251.23],[278.7466908630492,228.5267045334167],[307.17,228.06999999999996]],[[278.7466908630492,228.5267045334167],[288.9899605269214,214.8252605754219],[307.17,228.06999999999996]],[[307.17,228.06999999999996],[288.9899605269214,214.8252605754219],[301.32956023541703,208.27983819118748]],[[278.7466908630492,228.5267045334167],[262.06,229.11000000000004],[255.38000000000002,251.52000000000004]],[[262.06,229.11000000000004],[278.7466908630492,228.5267045334167],[288.9899605269214,214.8252605754219]],[[370.82,278.26],[311.54,278.26],[348.29,292.34]],[[121.73000000000002,303.90000000000003],[214.52,277.79],[167.84,306]],[[167.84,306],[214.52,277.79],[229.73,278.23]],[[53.45000000000002,323.11],[106.23,342.73],[112.14,323.05]],[[299.57,290.39],[230.96000000000004,306],[313.71,306]],[[230.96000000000004,306],[247.31,290.7],[271.39,296.8]],[[299.57,290.39],[271.39,296.8],[265.83,278.13000000000005]],[[299.57,290.39],[265.83,278.13000000000005],[311.54,278.26]],[[230.96000000000004,306],[289.02,323.06],[313.71,306]],[[289.02,323.06],[230.96000000000004,306],[188.14,322.97]],[[254.38000000000008,374.5900000000001],[264.8064958173154,366.7386789024554],[235.60993407178836,351.1612016348752]],[[264.8064958173154,366.7386789024554],[254.38000000000008,374.5900000000001],[300.4178944942126,375.62507128377496]],[[264.8064958173154,366.7386789024554],[276.11,358.44],[235.60993407178836,351.1612016348752]],[[276.11,358.44],[264.8064958173154,366.7386789024554],[300.4178944942126,375.62507128377496]],[[181.4463453855378,357.89379478751675],[189.56999999999994,342.9099999999999],[210.61999999999998,382.38999999999993]],[[210.61999999999998,382.38999999999993],[189.56999999999994,342.9099999999999],[254.38000000000008,374.5900000000001]],[[181.4463453855378,357.89379478751675],[189.56999999999994,342.9099999999999],[163.53195053912015,342.85301069230917]],[[194.6274499628152,382.53543136997934],[177.89619710330317,364.54280265911024],[181.4463453855378,357.89379478751675]],[[194.6274499628152,382.53543136997934],[181.4463453855378,357.89379478751675],[210.61999999999998,382.38999999999993]],[[165.02518516469326,357.293917930697],[163.53195053912015,342.85301069230917],[181.4463453855378,357.89379478751675]],[[165.02518516469326,357.293917930697],[181.4463453855378,357.89379478751675],[177.89619710330317,364.54280265911024]],[[177.89619710330317,364.54280265911024],[172.53422467188204,374.0251781593344],[194.6274499628152,382.53543136997934]],[[166.1540742968615,368.19931103044667],[165.02518516469326,357.293917930697],[177.89619710330317,364.54280265911024]],[[166.1540742968615,368.19931103044667],[177.89619710330317,364.54280265911024],[172.53422467188204,374.0251781593344]],[[172.53422467188204,374.0251781593344],[167.71,383.23],[194.6274499628152,382.53543136997934]],[[167.71,383.23],[172.53422467188204,374.0251781593344],[166.1540742968615,368.19931103044667]],[[328.75,392.29],[370.8200000000001,482.42],[357.15,409.34]],[[370.8200000000001,482.42],[328.75,392.29],[356.92418399988446,468.3441839998844]],[[341.52,456.95],[326.54,464.55],[337.97,468.17]],[[326.54,464.55],[341.52,456.95],[322.92,446.4499999999999]],[[356.92418399988446,468.3441839998844],[328.75,392.29],[341.52,456.95]],[[112.14,323.05],[189.56999999999994,342.9099999999999],[188.14,322.97]],[[106.23,342.73],[112.14,323.05],[139.11901174893364,342.7988368436572]],[[189.56999999999994,342.9099999999999],[163.53195053912015,342.85301069230917],[112.14,323.05]],[[112.14,323.05],[163.53195053912015,342.85301069230917],[139.11901174893364,342.7988368436572]],[[434.48,228.06999999999996],[440.32043976458294,208.27983819118748],[453.19553386382404,215.23393711213635]],[[434.48,228.06999999999996],[453.19553386382404,215.23393711213635],[458.2329236622258,228.92007701046438]],[[450.73,251.23],[434.48,228.06999999999996],[458.2329236622258,228.92007701046438]],[[450.73,251.23],[458.2329236622258,228.92007701046438],[486.27,251.52000000000004]],[[458.2329236622258,228.92007701046438],[479.59,229.11000000000004],[453.19553386382404,215.23393711213635]],[[479.59,229.11000000000004],[458.2329236622258,228.92007701046438],[486.27,251.52000000000004]],[[430.11000000000007,278.26],[370.82,278.26],[393.36,292.34]],[[511.92,278.23],[527.13,277.79],[534.7727468261153,288.9550070121453]],[[534.7727468261153,288.9550070121453],[527.13,277.79],[563.9869377216816,288.13301286682946]],[[534.7727468261153,288.9550070121453],[563.9869377216816,288.13301286682946],[573.81,306]],[[573.81,306],[563.9869377216816,288.13301286682946],[619.92,303.90000000000003]],[[635.42,342.73],[688.185351975337,322.9345112944801],[633.0222975227946,332.35246025891394]],[[442.08,290.39],[430.11000000000007,278.26],[475.8200000000001,278.13000000000005]],[[442.08,290.39],[475.8200000000001,278.13000000000005],[470.26,296.8]],[[510.69,306],[470.26,296.8],[494.3400000000001,290.7]],[[510.69,306],[442.08,290.39],[427.94,306]],[[510.69,306],[452.63,323.06],[553.5100000000001,322.97]],[[452.63,323.06],[510.69,306],[427.94,306]],[[487.27,374.5900000000001],[465.5400000000001,358.44],[441.1599999999999,375.33]],[[465.5400000000001,358.44],[487.27,374.5900000000001],[501.2703777044055,348.9539251606491]],[[551.9534663031204,342.43182271487916],[556.9561797046783,379.24599536353384],[574.92,369.06]],[[556.9561797046783,379.24599536353384],[551.9534663031204,342.43182271487916],[531.338858117655,382.01360748393506]],[[412.90000000000003,392.29],[370.8200000000001,482.42],[384.8871905883372,468.17780941166274]],[[370.8200000000001,482.42],[412.90000000000003,392.29],[384.5,409.34]],[[400.13,456.95],[418.73,446.45],[415.10999999999996,464.55]],[[441.1599999999999,375.33],[434.69,395.83],[412.90000000000003,392.29]],[[415.10999999999996,464.55],[400.13,456.95],[402.6637584555876,469.18624154441244]],[[412.90000000000003,392.29],[384.8871905883372,468.17780941166274],[400.13,456.95]],[[292.73,336.09999999999997],[300.4178944942126,375.62507128377496],[305.51,349.97]],[[300.4178944942126,375.62507128377496],[292.73,336.09999999999997],[276.11,358.44]],[[287.58764885252464,425.14690397756516],[276.55523780752196,409.8121894433287],[246.58,398.29]],[[276.55523780752196,409.8121894433287],[287.58764885252464,425.14690397756516],[322.92,446.4499999999999]],[[633.0222975227946,332.35246025891394],[688.185351975337,322.9345112944801],[629.51,323.05]],[[551.9534663031204,342.43182271487916],[633.0222975227946,332.35246025891394],[602.9140442353374,343.8265994204439]],[[602.9140442353374,343.8265994204439],[633.0222975227946,332.35246025891394],[635.42,342.73]],[[551.9534663031204,342.43182271487916],[553.5100000000001,322.97],[629.51,323.05]],[[551.9534663031204,342.43182271487916],[629.51,323.05],[633.0222975227946,332.35246025891394]],[[494.3400000000001,290.7],[534.7727468261153,288.9550070121453],[511.92,278.23]],[[494.3400000000001,290.7],[534.7727468261153,288.9550070121453],[527.16,295.89]],[[494.3400000000001,290.7],[527.16,295.89],[510.69,306]],[[329.28552320231427,185.50540299575945],[323.82,196.34999999999994],[343.08,178.51]],[[323.82,196.34999999999994],[329.28552320231427,185.50540299575945],[299.19,201.03]],[[288.9899605269214,214.8252605754219],[301.32956023541703,208.27983819118748],[299.19,201.03]],[[301.32956023541703,208.27983819118748],[323.82,196.34999999999994],[299.19,201.03]],[[323.82,196.34999999999994],[301.32956023541703,208.27983819118748],[307.17,228.06999999999996]],[[307.17,228.06999999999996],[290.92,251.23],[327.4727808824384,249.95499999999996]],[[229.73,278.23],[255.38000000000002,251.52000000000004],[265.83,278.13000000000005]],[[265.83,278.13000000000005],[255.38000000000002,251.52000000000004],[290.92,251.23]],[[255.38000000000002,251.52000000000004],[262.06,229.11000000000004],[238.11,247.23]],[[238.11,247.23],[214.52,277.79],[229.73,278.23]],[[238.11,247.23],[229.73,278.23],[255.38000000000002,251.52000000000004]],[[265.83,278.13000000000005],[229.73,278.23],[247.31,290.7]],[[290.92,251.23],[265.83,278.13000000000005],[327.4727808824384,249.95499999999996]],[[307.17,228.06999999999996],[327.4727808824384,249.95499999999996],[338.73,227.90000000000006]],[[327.4727808824384,249.95499999999996],[311.54,278.26],[370.8200000000001,250.65000000000006]],[[311.54,278.26],[327.4727808824384,249.95499999999996],[265.83,278.13000000000005]],[[265.83,278.13000000000005],[247.31,290.7],[271.39,296.8]],[[167.84,306],[229.73,278.23],[230.96000000000004,306]],[[230.96000000000004,306],[229.73,278.23],[247.31,290.7]],[[230.96000000000004,306],[167.84,306],[188.14,322.97]],[[167.84,306],[121.73000000000002,303.90000000000003],[112.14,323.05]],[[167.84,306],[112.14,323.05],[188.14,322.97]],[[311.54,278.26],[313.71,306],[348.29,292.34]],[[313.71,306],[311.54,278.26],[299.57,290.39]],[[313.71,306],[370.8200000000001,306],[348.29,292.34]],[[289.02,323.06],[313.71,306],[345.42,322.02]],[[345.42,322.02],[313.71,306],[370.8200000000001,306]],[[292.73,336.09999999999997],[289.02,323.06],[345.42,322.02]],[[292.73,336.09999999999997],[345.42,322.02],[370.8200000000001,339.40000000000003]],[[305.51,349.97],[292.73,336.09999999999997],[344.78499999999997,346.755]],[[344.78499999999997,346.755],[292.73,336.09999999999997],[370.8200000000001,339.40000000000003]],[[292.73,336.09999999999997],[289.02,323.06],[188.14,322.97]],[[163.53195053912015,342.85301069230917],[139.11901174893364,342.7988368436572],[165.02518516469326,357.293917930697]],[[262.8066852946307,343.6553207106916],[276.11,358.44],[292.73,336.09999999999997]],[[276.11,358.44],[262.8066852946307,343.6553207106916],[235.60993407178836,351.1612016348752]],[[254.38000000000008,374.5900000000001],[235.60993407178836,351.1612016348752],[189.56999999999994,342.9099999999999]],[[165.02518516469326,357.293917930697],[139.11901174893364,342.7988368436572],[166.1540742968615,368.19931103044667]],[[139.11901174893364,342.7988368436572],[167.71,383.23],[166.1540742968615,368.19931103044667]],[[245.16,387.3999999999999],[246.58,398.29],[275.92,400.63999999999993]],[[246.58,398.29],[245.16,387.3999999999999],[227.05000000000004,395.2]],[[246.58,398.29],[284.75,433.09],[287.58764885252464,425.14690397756516]],[[284.75,433.09],[322.92,446.4499999999999],[287.58764885252464,425.14690397756516]],[[341.52,456.95],[337.97,468.17],[356.92418399988446,468.3441839998844]],[[370.8200000000001,482.42],[356.92418399988446,468.3441839998844],[337.97,468.17]],[[300.4178944942126,375.62507128377496],[322.92,446.4499999999999],[316.78402330451934,399.4743957419991]],[[322.92,446.4499999999999],[300.4178944942126,375.62507128377496],[275.92,400.63999999999993]],[[322.92,446.4499999999999],[275.92,400.63999999999993],[276.55523780752196,409.8121894433287]],[[275.92,400.63999999999993],[246.58,398.29],[276.55523780752196,409.8121894433287]],[[341.52,456.95],[328.75,392.29],[316.78402330451934,399.4743957419991]],[[341.52,456.95],[316.78402330451934,399.4743957419991],[322.92,446.4499999999999]],[[300.4178944942126,375.62507128377496],[305.51,349.97],[328.75,392.29]],[[357.15,409.34],[328.75,392.29],[353.71,386.57]],[[353.71,386.57],[328.75,392.29],[305.51,349.97]],[[353.71,386.57],[357.15,409.34],[370.8200000000001,402.27]],[[353.71,386.57],[358.0733554924218,374.54080779792304],[359.8689096164275,378.44687620550945]],[[353.71,386.57],[359.8689096164275,378.44687620550945],[370.8200000000001,402.27]],[[370.8200000000001,339.40000000000003],[344.78499999999997,346.755],[358.0733554924218,374.54080779792304]],[[353.71,386.57],[358.0733554924218,374.54080779792304],[344.78499999999997,346.755]],[[479.59,229.11000000000004],[442.4599999999999,201.03],[453.19553386382404,215.23393711213635]],[[440.32043976458294,208.27983819118748],[453.19553386382404,215.23393711213635],[442.4599999999999,201.03]],[[440.32043976458294,208.27983819118748],[417.83000000000004,196.34999999999997],[434.48,228.06999999999996]],[[417.83000000000004,196.34999999999997],[440.32043976458294,208.27983819118748],[442.4599999999999,201.03]],[[450.73,251.23],[434.48,228.06999999999996],[414.951523896952,250.08405079656504]],[[475.8200000000001,278.13000000000005],[450.73,251.23],[486.27,251.52000000000004]],[[475.8200000000001,278.13000000000005],[486.27,251.52000000000004],[511.92,278.23]],[[479.59,229.11000000000004],[486.27,251.52000000000004],[503.54,247.23]],[[527.13,277.79],[503.54,247.23],[511.92,278.23]],[[511.92,278.23],[503.54,247.23],[486.27,251.52000000000004]],[[511.92,278.23],[475.8200000000001,278.13000000000005],[494.3400000000001,290.7]],[[475.8200000000001,278.13000000000005],[450.73,251.23],[414.951523896952,250.08405079656504]],[[414.951523896952,250.08405079656504],[434.48,228.06999999999996],[402.92,227.90000000000006]],[[414.951523896952,250.08405079656504],[430.11000000000007,278.26],[475.8200000000001,278.13000000000005]],[[430.11000000000007,278.26],[414.951523896952,250.08405079656504],[370.8200000000001,250.65000000000006]],[[494.3400000000001,290.7],[475.8200000000001,278.13000000000005],[470.26,296.8]],[[510.69,306],[527.16,295.89],[573.81,306]],[[573.81,306],[527.16,295.89],[534.7727468261153,288.9550070121453]],[[573.81,306],[510.69,306],[553.5100000000001,322.97]],[[619.92,303.90000000000003],[573.81,306],[625.0616085681653,313.9660553437987]],[[573.81,306],[629.51,323.05],[625.0616085681653,313.9660553437987]],[[629.51,323.05],[573.81,306],[553.5100000000001,322.97]],[[625.0616085681653,313.9660553437987],[688.185351975337,322.9345112944801],[619.92,303.90000000000003]],[[688.185351975337,322.9345112944801],[625.0616085681653,313.9660553437987],[629.51,323.05]],[[430.11000000000007,278.26],[427.94,306],[442.08,290.39]],[[427.94,306],[430.11000000000007,278.26],[393.36,292.34]],[[370.8200000000001,306],[427.94,306],[396.23,322.02]],[[396.23,322.02],[427.94,306],[452.63,323.06]],[[370.8200000000001,306],[427.94,306],[393.36,292.34]],[[370.8200000000001,339.40000000000003],[396.23,322.02],[448.92,336.09999999999997]],[[448.92,336.09999999999997],[396.23,322.02],[452.63,323.06]],[[370.8200000000001,339.40000000000003],[448.92,336.09999999999997],[397.02,346.77]],[[397.02,346.77],[448.92,336.09999999999997],[436.13999999999993,349.97]],[[452.63,323.06],[448.92,336.09999999999997],[553.5100000000001,322.97]],[[602.9140442353374,343.8265994204439],[551.9534663031204,342.43182271487916],[574.92,369.06]],[[460.26,340.3],[465.5400000000001,358.44],[501.2703777044055,348.9539251606491]],[[465.5400000000001,358.44],[460.26,340.3],[448.92,336.09999999999997]],[[501.2703777044055,348.9539251606491],[487.27,374.5900000000001],[551.9534663031204,342.43182271487916]],[[551.9534663031204,342.43182271487916],[487.27,374.5900000000001],[531.338858117655,382.01360748393506]],[[496.49,387.3999999999999],[495.07,398.29],[514.6,395.2]],[[465.73,400.64],[487.27,374.5900000000001],[496.49,387.3999999999999]],[[465.73,400.64],[496.49,387.3999999999999],[495.07,398.29]],[[418.73,446.45],[465.73,400.64],[456.9,433.09]],[[456.9,433.09],[465.73,400.64],[495.07,398.29]],[[402.6637584555876,469.18624154441244],[400.13,456.95],[384.8871905883372,468.17780941166274]],[[384.8871905883372,468.17780941166274],[370.8200000000001,482.42],[402.6637584555876,469.18624154441244]],[[441.1599999999999,375.33],[418.73,446.45],[465.73,400.64]],[[384.5,409.34],[387.94,386.57],[412.90000000000003,392.29]],[[441.1599999999999,375.33],[412.90000000000003,392.29],[436.13999999999993,349.97]],[[436.13999999999993,349.97],[412.90000000000003,392.29],[387.94,386.57]],[[434.69,395.83],[412.90000000000003,392.29],[400.13,456.95]],[[384.5,409.34],[387.94,386.57],[370.8200000000001,402.27]],[[370.8200000000001,402.27],[387.94,386.57],[381.90936948197304,378.77916006681284]],[[397.02,346.77],[370.8200000000001,339.40000000000003],[383.720174143441,374.94329523049714]],[[383.720174143441,374.94329523049714],[387.94,386.57],[397.02,346.77]],[[387.94,386.57],[383.720174143441,374.94329523049714],[381.90936948197304,378.77916006681284]],[[370.82000000000005,174.02],[343.08,178.51],[348.63000000000005,195.84]],[[338.73,227.90000000000006],[323.82,196.34999999999994],[348.63000000000005,195.84]],[[348.63000000000005,195.84],[323.82,196.34999999999994],[343.08,178.51]],[[323.82,196.34999999999994],[307.17,228.06999999999996],[338.73,227.90000000000006]],[[348.63000000000005,195.84],[338.73,227.90000000000006],[370.82,194.79999999999998]],[[338.73,227.90000000000006],[327.4727808824384,249.95499999999996],[370.8200000000001,250.65000000000006]],[[121.73000000000002,303.90000000000003],[53.45000000000002,323.11],[112.14,323.05]],[[189.56999999999994,342.9099999999999],[188.14,322.97],[262.8066852946307,343.6553207106916]],[[262.8066852946307,343.6553207106916],[188.14,322.97],[292.73,336.09999999999997]],[[262.8066852946307,343.6553207106916],[189.56999999999994,342.9099999999999],[235.60993407178836,351.1612016348752]],[[210.61999999999998,382.38999999999993],[254.38000000000008,374.5900000000001],[245.16,387.3999999999999]],[[210.61999999999998,382.38999999999993],[245.16,387.3999999999999],[227.05000000000004,395.2]],[[254.38000000000008,374.5900000000001],[245.16,387.3999999999999],[275.92,400.63999999999993]],[[300.4178944942126,375.62507128377496],[254.38000000000008,374.5900000000001],[275.92,400.63999999999993]],[[305.51,349.97],[353.71,386.57],[344.78499999999997,346.755]],[[398.57,178.51],[370.82000000000005,174.02],[393.02,195.84]],[[402.92,227.90000000000006],[393.02,195.84],[417.83000000000004,196.34999999999997]],[[417.83000000000004,196.34999999999997],[393.02,195.84],[398.57,178.51]],[[442.4599999999999,201.03],[398.57,178.51],[417.83000000000004,196.34999999999997]],[[434.48,228.06999999999996],[417.83000000000004,196.34999999999997],[402.92,227.90000000000006]],[[402.92,227.90000000000006],[393.02,195.84],[370.82,194.79999999999998]],[[414.951523896952,250.08405079656504],[402.92,227.90000000000006],[370.8200000000001,250.65000000000006]],[[448.92,336.09999999999997],[553.5100000000001,322.97],[460.26,340.3]],[[460.26,340.3],[553.5100000000001,322.97],[551.9534663031204,342.43182271487916]],[[551.9534663031204,342.43182271487916],[460.26,340.3],[501.2703777044055,348.9539251606491]],[[496.49,387.3999999999999],[487.27,374.5900000000001],[531.338858117655,382.01360748393506]],[[496.49,387.3999999999999],[531.338858117655,382.01360748393506],[514.6,395.2]],[[441.1599999999999,375.33],[436.13999999999993,349.97],[465.5400000000001,358.44]],[[465.5400000000001,358.44],[436.13999999999993,349.97],[448.92,336.09999999999997]],[[487.27,374.5900000000001],[441.1599999999999,375.33],[465.73,400.64]],[[387.94,386.57],[436.13999999999993,349.97],[397.02,346.77]],[[316.78402330451934,399.4743957419991],[328.75,392.29],[300.4178944942126,375.62507128377496]]],"zone_id":[8,23,8,23,36,38,17,18,13,78,4,74,41,41,9,39,46,41,41,39,6,56,6,56,35,20,20,20,35,35,16,49,29,26,53,50,42,42,48,1,51,21,51,21,5,5,73,5,5,73,73,77,73,77,77,77,3,3,69,69,3,2,2,2,2,14,14,14,14,14,14,13,84,84,83,75,68,71,80,24,52,15,47,7,7,10,10,6,6,67,86,67,6,0,0,63,61,57,10,68,22,76,24,24,24,19,82,82,82,19,20,31,65,35,31,31,50,27,20,18,27,42,29,50,58,2,2,16,16,16,40,70,40,54,0,0,1,64,81,51,5,64,64,21,60,63,61,69,69,12,12,61,63,3,3,0,39,0,39,39,39,46,46,14,14,37,37,44,66,43,87,85,43,24,28,44,28,17,24,62,62,59,72,72,22,79,57,71,13,4,4,13,4,4,9,9,15,10,7,7,55,34,33,33,33,30,30,67,67,11,41,32,32,45,41,41,9,9,41,23,19,19,19,23,38,26,1,1,5,60,60,21,21,0,8,8,8,8,37,8,36,25,25,7,33,33,7,7,11,9,12],"region_colors":["#414499","#34368e","#97257b","#6f1c57","#ec3338","#dd1e35","#f0512b","#ed462b","#c63078","#c52a6e","#8c1b54","#941b4b","#7c112c","#700d29","#580d24","#ad1f2e","#9d1d27","#9c1b37","#ac1e39","#a31f31","#dc2d4c","#ed5830","#db2b69","#f37633","#f4c227","#ee8825","#41715f","#199185","#f5d240","#499d88","#b02c80","#fbd65b","#cebb49","#5d4497","#9b338e","#a54a91","#c9488f","#c7468b","#1b9bc3","#1d5692","#145164","#0f7059","#134f58","#10624d","#832978","#322562","#6f1a52","#8d194c","#9a1d53","#8c183c","#971b4b","#c32054","#d41f38","#cc1f41","#efdddc","#de293b","#ef9428","#f5cb13","#dddddd","#eee928","#efe942","#243975","#3094bb","#1f386e","#146395","#1ea885","#4cab69","#fbcd20","#f6db0f","#6fc596","#f5e52a","#c0307e","#edac39","#f5da50","#f4dc63","#f5c969","#c4b2cb","#d45985","#d85980","#d05899","#d9226c","#2a4580","#257eb9","#0f5578","#0f3a61","#644d9f","#6b2c80","#f0a0c3","#a0336a","#40c0c6","#1d2958","#dddddd","#2ba8bf","#3c572a","#163a26","#b1a565","#3f5e90","#77398c","#1b99cd","#e8f2f5","#2a3a7c","#1b417b","#e2be33","#9db13d","#8fbe48","#0c8194","#2eaeb2","#199e98","#16888a","#1b9394","#f9aa1c","#f5e10f","#f9d02b","#f5ce49","#efb81c","#f2da19","#f1ab39","#f3a621","#f26430","#ec5c35","#f38c26","#ce4c92","#8cbd63","#bfba4b","#18a7b6","#96afab","#1774a2","#bc2f88","#b53088","#e25594","#d04781","#e74f7f","#811f5d","#741225","#83301f","#86211b","#210f3f","#a9277b","#11322e","#0d3344","#26225c","#d92755","#eb5532","#9b9e80","#dddddd","#d0cca5","#a1b4c5","#dddddd","#dddddd","#719d3f","#0b7d56","#177d66","#909056","#909c38","#ced72e","#403c25","#c23830","#af312b","#e6592a","#c8292c","#ce292c","#761221","#901a21","#37bead","#23aca8","#1d96a3","#27b2b5","#f5ab1f","#f5e12a","#f5e713","#f3cc40","#f6d21f","#f7e711","#ebb63c","#f8c11a","#f58e26","#f6a320","#f58133","#cd5c8b","#37ab90","#b9bb45","#16a5b8","#baa8a2","#509caf","#1874a8","#dc6093","#882d76","#d02a6f","#d63d78","#ec4498","#d9328c","#e8569a","#730f2e","#8a194a","#841531","#821433","#451246","#1983c3","#1b2655","#181949","#312767","#642870","#dddddd","#7bc484","#eae34a","#d8d145","#ebe388","#dddddd","#dddddd","#1cba9c","#78184e","#1d184d","#5d1143","#1e92a9","#cc214b","#c92143","#4e0f24","#76112d","#931836","#2ba6c4","#2d2160","#108497","#21356b","#6d2b8a","#eb3238","#bf6a9c","#3e2663","#38174a","#133c69","#296d96","#819da7","#127562","#0e6f69","#972023","#2abec5","#37296a","#1cabbf","#7ccfd5","#195884","#9b66a8","#f06735","#581850","#602871","#1d2658","#91498d","#c6acc3","#1d2353","#1d2b5a","#10779a","#680b29","#6b8e3b"],"zone_shift":{"0":[-226.2502510473911,-201.4816028680503],"1":[-59.25025104739109,-194.4816028680503],"2":[33.74974895260891,-27.481602868050288],"3":[-257.2502510473911,-134.4816028680503],"4":[-198.2502510473911,131.5183971319497],"5":[33.74974895260891,-279.4816028680503],"6":[-257.2502510473911,-135.4816028680503],"7":[-372.2502510473911,-272.4816028680503],"8":[-214.2502510473911,178.5183971319497],"9":[-306.2502510473911,38.51839713194971],"10":[-459.2502510473911,-120.48160286805029],"11":[-330.2502510473911,59.51839713194971],"12":[-134.2502510473911,-232.4816028680503],"13":[97.74974895260891,-149.4816028680503],"14":[-192.2502510473911,-86.48160286805029],"15":[-274.2502510473911,-112.48160286805029],"16":[7.749748952608911,-214.4816028680503],"17":[-65.25025104739109,124.51839713194971],"18":[5.749748952608911,59.51839713194971],"19":[-14.250251047391089,-70.48160286805029],"20":[-66.25025104739109,158.5183971319497],"21":[92.74974895260891,-195.4816028680503],"22":[-355.2502510473911,-13.481602868050288],"23":[13.749748952608911,-83.48160286805029],"24":[-185.2502510473911,28.518397131949712],"25":[-229.2502510473911,-14.481602868050288],"26":[167.7497489526089,-94.48160286805029],"27":[68.74974895260891,-38.48160286805029],"28":[-16.25025104739109,-108.48160286805029],"29":[134.7497489526089,-25.481602868050288],"30":[-147.2502510473911,26.518397131949712],"31":[132.7497489526089,182.5183971319497],"32":[-11.250251047391089,-115.48160286805029],"33":[-66.25025104739109,-194.4816028680503],"34":[-207.2502510473911,-158.4816028680503],"35":[18.74974895260891,165.5183971319497],"36":[113.74974895260891,110.51839713194971],"37":[170.7497489526089,77.51839713194971],"38":[113.74974895260891,103.51839713194971],"39":[78.74974895260891,-287.4816028680503],"40":[85.74974895260891,13.518397131949712],"41":[-11.250251047391089,-4.481602868050288],"42":[200.7497489526089,-33.48160286805029],"43":[145.7497489526089,50.51839713194971],"44":[187.7497489526089,0.5183971319497118],"45":[187.7497489526089,-318.4816028680503],"46":[286.7497489526089,-96.48160286805029],"47":[42.74974895260891,-218.4816028680503],"48":[332.7497489526089,-242.4816028680503],"49":[264.7497489526089,-226.4816028680503],"50":[319.7497489526089,38.51839713194971],"51":[258.7497489526089,48.51839713194971],"52":[109.74974895260891,-168.4816028680503],"53":[312.7497489526089,-144.4816028680503],"54":[182.7497489526089,-152.4816028680503],"55":[-50.25025104739109,-61.48160286805029],"56":[298.7497489526089,-336.4816028680503],"57":[-86.25025104739109,-96.48160286805029],"58":[337.7497489526089,-39.48160286805029],"59":[48.74974895260891,-129.4816028680503],"60":[226.7497489526089,46.51839713194971],"61":[354.7497489526089,-224.4816028680503],"62":[11.749748952608911,-28.481602868050288],"63":[134.7497489526089,-31.481602868050288],"64":[469.7497489526089,-13.481602868050288],"65":[143.7497489526089,170.5183971319497],"66":[-32.25025104739109,124.51839713194971],"67":[126.74974895260891,-395.4816028680503],"68":[-73.25025104739109,-132.4816028680503],"69":[166.7497489526089,-2.481602868050288],"70":[210.7497489526089,46.51839713194971],"71":[-53.25025104739109,3.518397131949712],"72":[-122.25025104739109,106.51839713194971],"73":[383.7497489526089,76.51839713194971],"74":[193.7497489526089,70.51839713194971],"75":[33.74974895260891,78.51839713194971],"76":[-112.25025104739109,-118.48160286805029],"77":[483.7497489526089,26.518397131949712],"78":[228.7497489526089,114.51839713194971],"79":[-158.2502510473911,4.518397131949712],"80":[-95.25025104739109,-142.4816028680503],"81":[338.7497489526089,98.51839713194971],"82":[357.7497489526089,-5.481602868050288],"83":[31.74974895260891,157.5183971319497],"84":[106.74974895260891,-168.4816028680503],"85":[109.74974895260891,203.5183971319497],"86":[91.74974895260891,45.51839713194971],"87":[65.74974895260891,219.5183971319497]},"zone_rot":{"0":85,"1":0,"2":90,"3":10,"4":0,"5":0,"6":0,"7":0,"8":90,"9":35,"10":30,"11":50,"12":135,"13":0,"14":50,"15":100,"16":0,"17":90,"18":90,"19":105,"20":60,"21":45,"22":105,"23":90,"24":80,"25":90,"26":70,"27":0,"28":0,"29":0,"30":40,"31":90,"32":35,"33":5,"34":115,"35":95,"36":90,"37":75,"38":0,"39":30,"40":15,"41":60,"42":0,"43":0,"44":90,"45":75,"46":10,"47":0,"48":0,"49":15,"50":5,"51":40,"52":0,"53":0,"54":0,"55":25,"56":0,"57":175,"58":90,"59":180,"60":100,"61":45,"62":90,"63":50,"64":125,"65":20,"66":160,"67":30,"68":20,"69":150,"70":0,"71":0,"72":75,"73":0,"74":55,"75":165,"76":10,"77":95,"78":60,"79":165,"80":20,"81":45,"82":120,"83":65,"84":75,"85":125,"86":30,"87":105},"zone_center":{"0":[321.53989298225616,360.15095921818556],"1":[237.7351312703443,328.28665975801846],"2":[148.11708967357768,325.85659090869234],"3":[343.2068399535144,432.7080777113758],"4":[407.6105708951623,322.77072608031966],"5":[217.0530670085911,361.26226124157216],"6":[387.75165422931406,433.70721761317077],"7":[480.0275444143283,354.05701203551735],"8":[394.32940318418974,201.29423572087282],"9":[402.41877556503346,354.3716903400388],"10":[572.9001813969307,354.8714953071942],"11":[449.10074963581314,400.74738748435954],"12":[305.0578889174637,406.27437326752784],"13":[399.9325647680331,292.009363272218],"14":[458.45661275327166,231.23449781967324],"15":[497.5642377503595,322.05328912299774],"16":[335.5580533377249,291.9546125586714],"17":[397.2632017595918,265.23786420225184],"18":[344.5047605986324,265.2580094186201],"19":[327.47495747952917,207.59928662235384],"20":[306.1838497684983,233.80431935987582],"21":[271.23396965228744,381.78749054871184],"22":[583.2819840316242,324.0805600713704],"23":[357.4365551821205,202.82983958153818],"24":[500.65582023099677,290.50833538536375],"25":[509.9556045446496,334.80091900383036],"26":[92.4693309821438,322.8762382108197],"27":[298.34232846325705,265.0693547450271],"28":[443.5695725185427,265.1571611062749],"29":[206.80427035109741,295.34233458996965],"30":[457.8925262046446,420.08731379885893],"31":[241.99941769294227,266.4889716904805],"32":[418.9789434531048,374.56192370095846],"33":[497.41739070932647,388.2386849998868],"34":[523.2145891756167,365.73744757951766],"35":[268.6070281597736,238.92908645404847],"36":[390.2363327465538,239.94391747113562],"37":[423.5955016647659,213.89851006830824],"38":[351.6720930397601,239.86410041595695],"39":[356.7771786395245,390.12616125317686],"40":[313.8320499812829,321.6604959500305],"41":[384.8870601924989,390.1648735255106],"42":[279.3139025499736,286.07388842091024],"43":[494.746505345594,265.7652816498296],"44":[426.08658495284993,239.5590557842285],"45":[415.1479166191919,417.36824688410405],"46":[358.5946139703174,358.9529104480727],"47":[466.0957617522503,310.9983951634743],"48":[275.5542382477491,310.99839516347424],"49":[169.32628459021265,294.84948570773787],"50":[246.69662474341385,290.54748053482143],"51":[256.16088544654434,357.4301195737864],"52":[465.68113569039855,301.5753056579647],"53":[275.96886430960257,301.57530565796486],"54":[334.72594627720696,333.0872521897414],"55":[514.9214715886417,355.31569968817126],"56":[367.106142027284,439.2873895872667],"57":[651.2491617290738,322.8913035976221],"58":[196.93114774777357,311.03245509711917],"59":[544.7188522522263,311.0324550971193],"60":[234.39565299698194,385.80075367448507],"61":[295.56072474226147,426.4119976487198],"62":[540.9564933600923,301.08312091289224],"63":[269.8686115315578,412.12561907858975],"64":[157.0055499063677,357.5310675655785],"65":[271.0305597734793,260.22163792235244],"66":[470.61944022652125,260.2216379223527],"67":[398.3097095853103,464.90133298011494],"68":[647.3804196500855,333.6580240937048],"69":[343.28792326119486,464.73852534581385],"70":[342.9294786243913,310.68845050624043],"71":[444.6880844500909,286.22397531231957],"72":[606.05152226574,311.04451070455644],"73":[174.45204994146863,352.8751927215341],"74":[362.4013725329903,322.51259897585874],"75":[587.6122132888784,299.265682928835],"76":[589.9971175042908,335.4048989873746],"77":[178.12429332234873,375.811927656634],"78":[363.2452222877895,292.1882595604438],"79":[657.2711112593128,316.21923345326275],"80":[461.81930252124516,288.2593453106462],"81":[277.5733841731917,345.6062197834188],"82":[309.6945809433788,199.90971303298312],"83":[556.650180763162,294.615275816729],"84":[536.8169810942435,283.8080476695789],"85":[513.7457482483952,266.3869281903838],"86":[429.27559552963356,387.40528039772545],"87":[489.6627733666459,241.95429280468932]},"zone_boundaries":{"0":[[[276.11,358.44],[292.73,336.09999999999997],[370.8200000000001,339.40000000000003],[344.7849999999999,346.75500000000005],[353.71,386.57],[328.75,392.29],[300.4178944942126,375.62507128377496],[276.11,358.44]]],"1":[[[230.96000000000004,306],[289.02,323.06],[292.73,336.09999999999997],[262.8066852946307,343.6553207106916],[189.56999999999994,342.9099999999999],[188.14,322.97],[230.96000000000004,306]]],"2":[[[188.14,322.97],[189.56999999999994,342.9099999999999],[163.53195053912015,342.85301069230917],[139.11901174893364,342.7988368436572],[106.23,342.73],[112.14000000000003,323.05000000000007],[121.73000000000002,303.90000000000003],[167.84,306],[188.14,322.97]]],"3":[[[357.15,409.34],[370.8200000000001,482.42],[356.92418399988446,468.3441839998844],[341.52,456.95],[322.92,446.4499999999999],[316.78402330451934,399.4743957419991],[328.75,392.29],[357.15,409.34]]],"4":[[[370.8200000000001,306],[370.8200000000001,339.40000000000003],[448.92,336.09999999999997],[452.63,323.06],[427.94,306],[370.8200000000001,306]]],"5":[[[181.4463453855378,357.89379478751675],[189.56999999999994,342.9099999999999],[262.8066852946307,343.6553207106916],[235.60993407178836,351.1612016348752],[254.38000000000008,374.5900000000001],[210.61999999999998,382.38999999999993],[194.6274499628152,382.53543136997934],[177.89619710330317,364.54280265911024],[181.4463453855378,357.89379478751675]]],"6":[[[370.8200000000001,402.27],[370.82,422.5],[370.8200000000001,482.42],[384.8871905883372,468.17780941166274],[400.13,456.95],[412.90000000000003,392.29],[384.5,409.34],[370.8200000000001,402.27]]],"7":[[[441.1599999999999,375.33],[487.27,374.5900000000001],[501.27037770440546,348.9539251606491],[551.9534663031204,342.43182271487916],[460.26000000000005,340.3],[448.92,336.09999999999997],[436.13999999999993,349.97],[441.1599999999999,375.33]]],"8":[[[370.82000000000005,174.02],[370.82,194.79999999999998],[370.82,227.72],[402.92,227.90000000000006],[417.83,196.34999999999994],[442.4599999999999,201.03],[398.57,178.51],[370.82000000000005,174.02]]],"9":[[[370.8533333333333,364.67359281437126],[383.720174143441,374.94329523049714],[387.94,386.57],[436.13999999999993,349.97],[448.92,336.09999999999997],[370.8200000000001,339.40000000000003],[370.8533333333333,364.67359281437126]]],"10":[[[556.9561797046783,379.24599536353384],[574.92,369.06],[602.9140442353374,343.8265994204439],[633.0222975227946,332.35246025891394],[551.9534663031204,342.43182271487916],[531.338858117655,382.01360748393506],[556.9561797046783,379.24599536353384]]],"11":[[[418.73,446.45],[441.1599999999999,375.33],[487.27,374.5900000000001],[465.73,400.64],[418.73,446.45]]],"12":[[[316.78402330451934,399.4743957419991],[322.92,446.4499999999999],[275.92,400.63999999999993],[300.4178944942126,375.62507128377496],[328.75,392.29],[316.78402330451934,399.4743957419991]]],"13":[[[370.82,278.26],[370.8200000000001,306],[427.94,306],[430.11000000000007,278.26],[370.82,278.26]]],"14":[[[434.48,228.06999999999996],[440.32043976458294,208.27983819118748],[442.4599999999999,201.03],[479.59,229.11000000000004],[486.27,251.52000000000004],[450.73,251.23],[434.48,228.06999999999996]]],"15":[[[452.63,323.06],[510.69,306],[553.5100000000001,322.97],[448.92,336.09999999999997],[452.63,323.06]]],"16":[[[311.54,278.26],[370.82,278.26],[348.29,292.34],[370.8200000000001,306],[313.71,306],[299.57,290.39],[311.54,278.26]]],"17":[[[370.8200000000001,250.65000000000006],[370.82,278.26],[430.11000000000007,278.26],[414.951523896952,250.08405079656504],[370.8200000000001,250.65000000000006]]],"18":[[[370.8200000000001,250.65000000000006],[370.82,278.26],[311.54,278.26],[327.4727808824384,249.95499999999996],[370.8200000000001,250.65000000000006]]],"19":[[[323.82000000000005,196.34999999999994],[329.28552320231427,185.50540299575945],[343.08,178.51],[348.63000000000005,195.84],[338.73,227.90000000000006],[307.17,228.06999999999996],[301.32956023541703,208.27983819118748],[323.82000000000005,196.34999999999994]]],"20":[[[278.7466908630492,228.5267045334167],[290.92,251.23],[327.4727808824384,249.95499999999996],[338.73,227.90000000000006],[307.17,228.07],[301.32956023541703,208.27983819118748],[288.9899605269214,214.8252605754219],[278.7466908630492,228.5267045334167]]],"21":[[[254.38000000000008,374.5900000000001],[264.8064958173154,366.7386789024554],[276.11,358.44],[300.4178944942126,375.62507128377496],[275.92,400.63999999999993],[246.58,398.29],[245.16,387.3999999999999],[254.38000000000008,374.5900000000001]]],"22":[[[551.9534663031204,342.43182271487916],[553.5100000000001,322.97],[573.81,306],[629.51,323.05],[551.9534663031204,342.43182271487916]]],"23":[[[370.82000000000005,174.02],[370.82,194.79999999999998],[370.82,227.72],[338.73,227.90000000000006],[348.63000000000005,195.84],[343.08,178.51],[370.82000000000005,174.02]]],"24":[[[470.26,296.8],[510.69,306],[527.16,295.89],[534.7727468261153,288.9550070121453],[511.92,278.23],[475.8200000000001,278.13000000000005],[470.26,296.8]]],"25":[[[448.92,336.09999999999997],[553.5100000000001,322.97],[551.9534663031204,342.43182271487916],[460.26,340.3],[448.92,336.09999999999997]]],"26":[[[53.45000000000002,323.11],[106.23,342.73],[112.14,323.05],[121.73000000000002,303.90000000000003],[53.45000000000002,323.11]]],"27":[[[265.83,278.13000000000005],[290.92,251.23],[327.4727808824384,249.95499999999996],[311.54,278.26],[265.83,278.13000000000005]]],"28":[[[450.73,251.23],[475.8200000000001,278.13000000000005],[430.11000000000007,278.26],[414.951523896952,250.08405079656504],[450.73,251.23]]],"29":[[[167.84,306],[214.52,277.79],[229.73,278.23],[230.96000000000004,306],[167.84,306]]],"30":[[[418.73,446.45],[465.73,400.64],[495.07,398.29],[456.9,433.09],[418.73,446.45]]],"31":[[[255.38000000000002,251.52000000000004],[265.83,278.13000000000005],[229.73,278.23],[214.52,277.79],[238.11,247.23],[255.38000000000002,251.52000000000004]]],"32":[[[412.90000000000003,392.29],[441.1599999999999,375.33],[436.13999999999993,349.97],[387.94,386.57],[412.90000000000003,392.29]]],"33":[[[495.07,398.29],[514.6,395.2],[531.338858117655,382.01360748393506],[487.27,374.5900000000001],[465.73,400.64],[495.07,398.29]]],"34":[[[487.27,374.5900000000001],[551.9534663031204,342.43182271487916],[531.338858117655,382.01360748393506],[487.27,374.5900000000001]]],"35":[[[278.7466908630492,228.5267045334167],[290.92,251.23],[255.38000000000002,251.52],[238.11,247.23],[262.06,229.11000000000004],[288.9899605269214,214.8252605754219],[278.7466908630492,228.5267045334167]]],"36":[[[370.82,227.72],[370.8200000000001,250.65000000000006],[414.951523896952,250.08405079656504],[402.92,227.90000000000006],[370.82,227.72]]],"37":[[[434.48,228.06999999999996],[440.32043976458294,208.27983819118748],[442.4599999999999,201.03],[417.83,196.34999999999994],[402.92,227.90000000000006],[434.48,228.06999999999996]]],"38":[[[370.82,227.72],[370.8200000000001,250.65000000000006],[327.4727808824384,249.95499999999996],[338.73,227.90000000000006],[370.82,227.72]]],"39":[[[358.0733554924218,374.54080779792304],[370.8533333333333,364.67359281437126],[370.8200000000001,402.27],[357.15,409.34],[328.75,392.29],[353.71,386.57000000000005],[358.0733554924218,374.54080779792304]]],"40":[[[289.02,323.06],[313.71,306],[345.42,322.02],[292.73,336.09999999999997],[289.02,323.06]]],"41":[[[370.8533333333333,364.67359281437126],[383.720174143441,374.94329523049714],[387.94,386.57000000000005],[412.90000000000003,392.29],[384.5,409.34],[370.8200000000001,402.27],[370.8533333333333,364.67359281437126]]],"42":[[[271.39,296.8],[299.57,290.39],[311.54,278.26],[265.83,278.13000000000005],[247.31,290.7],[271.39,296.8]]],"43":[[[475.8200000000001,278.13000000000005],[486.27,251.52000000000004],[503.54,247.23],[511.92,278.23],[475.8200000000001,278.13000000000005]]],"44":[[[434.48,228.06999999999996],[450.73,251.23],[414.951523896952,250.08405079656504],[402.92,227.90000000000006],[434.48,228.06999999999996]]],"45":[[[412.90000000000003,392.29],[434.69,395.83],[400.13,456.95],[412.90000000000003,392.29]]],"46":[[[358.0733554924218,374.54080779792304],[370.8533333333333,364.67359281437126],[370.8200000000001,339.40000000000003],[344.78499999999997,346.755],[353.71,386.57],[358.0733554924218,374.54080779792304]]],"47":[[[452.63,323.06],[510.69,306],[427.94,306],[452.63,323.06]]],"48":[[[230.96000000000004,306],[289.02,323.06],[313.71,306],[230.96000000000004,306]]],"49":[[[121.73000000000002,303.90000000000003],[214.52,277.79],[167.84,306],[121.73000000000002,303.90000000000003]]],"50":[[[247.30999999999997,290.7],[271.39,296.8],[230.96000000000004,306],[229.73,278.23],[265.83,278.13000000000005],[247.30999999999997,290.7]]],"51":[[[254.38000000000008,374.5900000000001],[264.8064958173154,366.7386789024554],[276.11,358.44],[262.8066852946307,343.6553207106916],[235.60993407178833,351.1612016348752],[254.38000000000008,374.5900000000001]]],"52":[[[442.08,290.39],[510.69,306],[427.94,306],[442.08,290.39]]],"53":[[[230.96000000000004,306],[299.57,290.39],[313.71,306],[230.96000000000004,306]]],"54":[[[292.73,336.09999999999997],[345.42,322.02],[370.8200000000001,339.40000000000003],[292.73,336.09999999999997]]],"55":[[[487.27,374.5900000000001],[501.2703777044055,348.9539251606491],[551.9534663031204,342.43182271487916],[487.27,374.5900000000001]]],"56":[[[370.8200000000001,402.27],[370.82,422.5],[370.8200000000001,482.42],[357.15,409.34],[370.8200000000001,402.27]]],"57":[[[633.0222975227946,332.35246025891394],[688.185351975337,322.9345112944801],[625.0616085681653,313.9660553437987],[629.51,323.05],[633.0222975227946,332.35246025891394]]],"58":[[[167.84,306],[230.96000000000004,306],[188.14,322.97],[167.84,306]]],"59":[[[510.69,306],[573.81,306],[553.5100000000001,322.97],[510.69,306]]],"60":[[[245.16,387.3999999999999],[246.58,398.29],[227.05000000000004,395.2],[210.61999999999998,382.38999999999993],[254.38000000000008,374.5900000000001],[245.16,387.3999999999999]]],"61":[[[276.55523780752196,409.8121894433287],[287.58764885252464,425.14690397756516],[284.75,433.09],[322.92,446.4499999999999],[275.92,400.63999999999993],[276.55523780752196,409.8121894433287]]],"62":[[[510.69,306],[527.16,295.89],[534.7727468261153,288.9550070121453],[573.81,306],[510.69,306]]],"63":[[[276.55523780752196,409.8121894433287],[287.58764885252464,425.14690397756516],[284.75,433.09],[246.58,398.29],[275.92,400.63999999999993],[276.55523780752196,409.8121894433287]]],"64":[[[139.11901174893364,342.7988368436572],[163.53195053912015,342.85301069230917],[165.02518516469326,357.293917930697],[166.1540742968615,368.19931103044667],[167.71,383.23],[139.11901174893364,342.7988368436572]]],"65":[[[255.38000000000002,251.52000000000004],[265.83,278.13000000000005],[290.92,251.23],[255.38000000000002,251.52000000000004]]],"66":[[[450.73,251.23],[475.8200000000001,278.13000000000005],[486.27,251.52000000000004],[450.73,251.23]]],"67":[[[400.13000000000005,456.95],[418.73,446.45],[415.10999999999996,464.55],[402.6637584555876,469.18624154441244],[370.8200000000001,482.42],[384.8871905883372,468.17780941166274],[400.13000000000005,456.95]]],"68":[[[635.42,342.73],[688.185351975337,322.9345112944801],[633.0222975227946,332.35246025891394],[602.9140442353374,343.8265994204439],[635.42,342.73]]],"69":[[[326.54,464.55],[337.97,468.17],[370.8200000000001,482.42],[356.92418399988446,468.3441839998844],[341.52,456.95],[322.92,446.4499999999999],[326.54,464.55]]],"70":[[[313.71,306],[345.42,322.02],[370.8200000000001,306],[313.71,306]]],"71":[[[430.11000000000007,278.26],[475.8200000000001,278.13000000000005],[442.08,290.39],[427.94,306],[430.11000000000007,278.26]]],"72":[[[573.81,306],[619.92,303.90000000000003],[625.0616085681653,313.9660553437987],[629.51,323.05],[573.81,306]]],"73":[[[181.4463453855378,357.89379478751675],[189.56999999999994,342.9099999999999],[163.53195053912015,342.85301069230917],[165.02518516469328,357.293917930697],[166.1540742968615,368.19931103044667],[177.89619710330317,364.54280265911024],[181.4463453855378,357.89379478751675]]],"74":[[[370.8200000000001,306],[370.8200000000001,339.40000000000003],[345.42,322.02],[370.8200000000001,306]]],"75":[[[563.9869377216816,288.13301286682946],[573.81,306],[619.92,303.90000000000003],[563.9869377216816,288.13301286682946]]],"76":[[[551.9534663031204,342.43182271487916],[629.51,323.05],[633.0222975227946,332.35246025891394],[551.9534663031204,342.43182271487916]]],"77":[[[177.89619710330317,364.54280265911024],[194.6274499628152,382.53543136997934],[167.71,383.23],[166.1540742968615,368.19931103044667],[177.89619710330317,364.54280265911024]]],"78":[[[370.82,278.26],[370.8200000000001,306],[348.29,292.34],[370.82,278.26]]],"79":[[[625.0616085681653,313.9660553437987],[688.185351975337,322.9345112944801],[619.92,303.90000000000003],[625.0616085681653,313.9660553437987]]],"80":[[[442.08,290.39],[475.8200000000001,278.13000000000005],[470.26,296.8],[442.08,290.39]]],"81":[[[262.8066852946307,343.6553207106916],[276.11,358.44],[292.73,336.09999999999997],[262.8066852946307,343.6553207106916]]],"82":[[[323.82,196.34999999999994],[329.28552320231427,185.50540299575945],[299.19,201.03],[288.9899605269214,214.8252605754219],[301.32956023541703,208.27983819118748],[323.82,196.34999999999994]]],"83":[[[534.7727468261153,288.9550070121453],[563.9869377216816,288.13301286682946],[573.81,306],[534.7727468261153,288.9550070121453]]],"84":[[[511.92,278.23],[527.13,277.79],[563.9869377216816,288.13301286682946],[534.7727468261153,288.9550070121453],[511.92,278.23]]],"85":[[[503.54,247.23],[527.13,277.79],[511.92,278.23],[503.54,247.23]]],"86":[[[434.69,395.83],[441.1599999999999,375.33],[412.90000000000003,392.29],[434.69,395.83]]],"87":[[[479.59,229.11000000000004],[486.27,251.52000000000004],[503.54,247.23],[479.59,229.11000000000004]]]},"zone_labels":{"0":{"label":18,"x":320.2810035558729,"y":360.706692520974},"1":{"label":36,"x":237.48840872040023,"y":328.12361917542364},"2":{"label":3,"x":148.20322805957395,"y":325.54458995269937},"3":{"label":63,"x":342.5173638871906,"y":431.4728764976712},"4":{"label":6,"x":407.5844049493913,"y":322.6600801083132},"5":{"label":34,"x":214.6511911648953,"y":361.91749889780925},"6":{"label":70,"x":387.8433146132347,"y":433.88872258172813},"7":{"label":25,"x":471.75982737244874,"y":355.593622373668},"8":{"label":88,"x":392.58989544271935,"y":201.44597734920342},"9":{"label":53,"x":401.49616218207615,"y":354.619308808752},"10":{"label":32,"x":569.0467536447293,"y":356.2387961396072},"11":{"label":72,"x":449.6092682050586,"y":399.3626785349357},"12":{"label":80,"x":304.19113355363055,"y":405.26283449921897},"13":{"label":83,"x":399.9258709160152,"y":292.0438163960713},"14":{"label":82,"x":458.31992329859975,"y":231.43592386669343},"15":{"label":50,"x":496.6758540509383,"y":321.6968672991219},"16":{"label":57,"x":333.1170088693977,"y":291.9511005193718},"17":{"label":24,"x":396.95847928300486,"y":264.98642905461736},"18":{"label":10,"x":344.8374525171069,"y":264.9934485389798},"19":{"label":76,"x":327.48802948602247,"y":207.9419983423048},"20":{"label":42,"x":305.4734769047656,"y":234.34125272983522},"21":{"label":27,"x":271.09863779189175,"y":381.80072751585976},"22":{"label":75,"x":581.7202200567439,"y":323.82372588526397},"23":{"label":47,"x":357.67453452907915,"y":202.9194311276338},"24":{"label":16,"x":500.4627924936301,"y":290.5332444910901},"25":{"label":29,"x":513.4059838180654,"y":334.7114685987287},"26":{"label":13,"x":93.15447467263024,"y":323.2473300082861},"27":{"label":12,"x":298.7046199136839,"y":264.9675260515408},"28":{"label":8,"x":443.17997529308144,"y":265.04135664151},"29":{"label":4,"x":208.3913028638896,"y":294.8237198169298},"30":{"label":65,"x":458.66948165841626,"y":419.4405383372283},"31":{"label":54,"x":242.27521956344557,"y":265.99782469668855},"32":{"label":45,"x":419.4707057760263,"y":374.76785419787296},"33":{"label":17,"x":497.35446930568764,"y":388.03115131116454},"34":{"label":64,"x":523.520774806925,"y":366.34514339960475},"35":{"label":77,"x":267.95770575501825,"y":239.59839138592693},"36":{"label":85,"x":389.9421923783391,"y":239.6913558608905},"37":{"label":37,"x":423.85785692335713,"y":213.73782712365698},"38":{"label":14,"x":351.929573371062,"y":239.62633081437113},"39":{"label":7,"x":357.41955001638553,"y":390.92389127264545},"40":{"label":11,"x":312.96478227425433,"y":321.4530276554629},"41":{"label":74,"x":384.2517905125134,"y":390.97747436603026},"42":{"label":19,"x":279.0608330888933,"y":286.2271642611107},"43":{"label":38,"x":494.7802714740681,"y":265.4546829527885},"44":{"label":58,"x":426.01021943022323,"y":239.52826029414493},"45":{"label":52,"x":415.90666666666664,"y":415.0233333333333},"46":{"label":60,"x":358.7390381978735,"y":358.0202520763969},"47":{"label":79,"x":463.75333333333333,"y":311.68666666666667},"48":{"label":59,"x":277.8966666666667,"y":311.6866666666666},"49":{"label":69,"x":168.03,"y":295.8966666666667},"50":{"label":33,"x":244.43828291308986,"y":290.70971328799766},"51":{"label":2,"x":256.424824870823,"y":357.4431666768538},"52":{"label":26,"x":460.2366666666667,"y":300.7966666666666},"53":{"label":81,"x":281.4133333333333,"y":300.7966666666666},"54":{"label":68,"x":336.32333333333344,"y":332.50666666666666},"55":{"label":35,"x":513.4979480025087,"y":355.3252492918428},"56":{"label":49,"x":366.26333333333326,"y":431.3433333333333},"57":{"label":9,"x":648.9280570445295,"y":323.08400447042135},"58":{"label":66,"x":195.6466666666667,"y":311.65666666666664},"59":{"label":46,"x":546.0033333333334,"y":311.6566666666667},"60":{"label":22,"x":234.18311085392625,"y":386.1986087951546},"61":{"label":23,"x":295.0859452733715,"y":426.52945036688743},"62":{"label":55,"x":540.3153453193781,"y":300.43921422108815},"63":{"label":44,"x":270.2979426061956,"y":412.0136492069016},"64":{"label":78,"x":156.78661495302293,"y":356.29374076985283},"65":{"label":86,"x":270.71000000000004,"y":260.2933333333334},"66":{"label":84,"x":470.94000000000005,"y":260.29333333333335},"67":{"label":39,"x":399.75446709985977,"y":464.18617646759384},"68":{"label":15,"x":641.874474253011,"y":335.2044105693103},"69":{"label":1,"x":341.79806239055006,"y":463.9715617758962},"70":{"label":62,"x":343.31666666666666,"y":311.34},"71":{"label":40,"x":443.0815739407427,"y":285.9009656280598},"72":{"label":21,"x":607.7830652386391,"y":310.9889907760336},"73":{"label":73,"x":174.23846350101726,"y":353.072804909817},"74":{"label":31,"x":362.35333333333335,"y":322.47333333333336},"75":{"label":43,"x":585.9056459072272,"y":299.3443376222765},"76":{"label":67,"x":604.8285879419717,"y":332.6114276579311},"77":{"label":87,"x":177.52802139469136,"y":375.48557643668556},"78":{"label":71,"x":363.31000000000006,"y":292.2},"79":{"label":28,"x":644.388986847834,"y":313.6001888794263},"80":{"label":56,"x":462.72,"y":288.44},"81":{"label":41,"x":277.2155617648769,"y":346.06510690356384},"82":{"label":5,"x":310.08005769447425,"y":199.6444389982488},"83":{"label":61,"x":557.523228182599,"y":294.3626732929916},"84":{"label":48,"x":536.0189074483553,"y":283.82874370622693},"85":{"label":51,"x":514.1966666666667,"y":267.75},"86":{"label":20,"x":429.58333333333337,"y":387.81666666666666},"87":{"label":30,"x":489.79999999999995,"y":242.62000000000003}},"zone_label_map":{"0":18,"1":36,"2":3,"3":63,"4":6,"5":34,"6":70,"7":25,"8":88,"9":53,"10":32,"11":72,"12":80,"13":83,"14":82,"15":50,"16":57,"17":24,"18":10,"19":76,"20":42,"21":27,"22":75,"23":47,"24":16,"25":29,"26":13,"27":12,"28":8,"29":4,"30":65,"31":54,"32":45,"33":17,"34":64,"35":77,"36":85,"37":37,"38":14,"39":7,"40":11,"41":74,"42":19,"43":38,"44":58,"45":52,"46":60,"47":79,"48":59,"49":69,"50":33,"51":2,"52":26,"53":81,"54":68,"55":35,"56":49,"57":9,"58":66,"59":46,"60":22,"61":23,"62":55,"63":44,"64":78,"65":86,"66":84,"67":39,"68":15,"69":1,"70":62,"71":40,"72":21,"73":73,"74":31,"75":43,"76":67,"77":87,"78":71,"79":28,"80":56,"81":41,"82":5,"83":61,"84":48,"85":51,"86":20,"87":30},"packed_labels":[{"id":"pz-0","zid":"0","x":57,"y":147,"label":"18"},{"id":"pz-1","zid":"1","x":177,"y":99,"label":"36"},{"id":"pz-2","zid":"2","x":195,"y":255,"label":"3"},{"id":"pz-3","zid":"3","x":45,"y":297,"label":"63"},{"id":"pz-4","zid":"4","x":207,"y":417,"label":"6"},{"id":"pz-5","zid":"5","x":249,"y":45,"label":"34"},{"id":"pz-6","zid":"6","x":129,"y":255,"label":"70"},{"id":"pz-7","zid":"7","x":99,"y":57,"label":"25"},{"id":"pz-8","zid":"8","x":135,"y":375,"label":"88"},{"id":"pz-9","zid":"9","x":111,"y":369,"label":"53"},{"id":"pz-10","zid":"10","x":105,"y":195,"label":"32"},{"id":"pz-11","zid":"11","x":117,"y":483,"label":"72"},{"id":"pz-12","zid":"12","x":207,"y":165,"label":"80"},{"id":"pz-13","zid":"13","x":495,"y":117,"label":"83"},{"id":"pz-14","zid":"14","x":291,"y":159,"label":"82"},{"id":"pz-15","zid":"15","x":195,"y":207,"label":"50"},{"id":"pz-16","zid":"16","x":339,"y":45,"label":"57"},{"id":"pz-17","zid":"17","x":309,"y":387,"label":"24"},{"id":"pz-18","zid":"18","x":357,"y":363,"label":"10"},{"id":"pz-19","zid":"19","x":309,"y":171,"label":"76"},{"id":"pz-20","zid":"20","x":261,"y":393,"label":"42"},{"id":"pz-21","zid":"21","x":351,"y":159,"label":"27"},{"id":"pz-22","zid":"22","x":261,"y":309,"label":"75"},{"id":"pz-23","zid":"23","x":333,"y":117,"label":"47"},{"id":"pz-24","zid":"24","x":303,"y":351,"label":"16"},{"id":"pz-25","zid":"25","x":255,"y":327,"label":"29"},{"id":"pz-26","zid":"26","x":273,"y":207,"label":"13"},{"id":"pz-27","zid":"27","x":399,"y":231,"label":"12"},{"id":"pz-28","zid":"28","x":417,"y":129,"label":"8"},{"id":"pz-29","zid":"29","x":315,"y":255,"label":"4"},{"id":"pz-30","zid":"30","x":309,"y":471,"label":"65"},{"id":"pz-31","zid":"31","x":393,"y":429,"label":"54"},{"id":"pz-32","zid":"32","x":417,"y":237,"label":"45"},{"id":"pz-33","zid":"33","x":405,"y":177,"label":"17"},{"id":"pz-34","zid":"34","x":339,"y":207,"label":"64"},{"id":"pz-35","zid":"35","x":303,"y":369,"label":"77"},{"id":"pz-36","zid":"36","x":531,"y":339,"label":"85"},{"id":"pz-37","zid":"37","x":591,"y":267,"label":"37"},{"id":"pz-38","zid":"38","x":465,"y":309,"label":"14"},{"id":"pz-39","zid":"39","x":453,"y":123,"label":"7"},{"id":"pz-40","zid":"40","x":399,"y":309,"label":"11"},{"id":"pz-41","zid":"41","x":357,"y":411,"label":"74"},{"id":"pz-42","zid":"42","x":477,"y":231,"label":"19"},{"id":"pz-43","zid":"43","x":663,"y":309,"label":"38"},{"id":"pz-44","zid":"44","x":585,"y":243,"label":"58"},{"id":"pz-45","zid":"45","x":609,"y":123,"label":"52"},{"id":"pz-46","zid":"46","x":669,"y":261,"label":"60"},{"id":"pz-47","zid":"47","x":519,"y":111,"label":"79"},{"id":"pz-48","zid":"48","x":609,"y":45,"label":"59"},{"id":"pz-49","zid":"49","x":429,"y":45,"label":"69"},{"id":"pz-50","zid":"50","x":561,"y":303,"label":"33"},{"id":"pz-51","zid":"51","x":519,"y":375,"label":"2"},{"id":"pz-52","zid":"52","x":567,"y":111,"label":"26"},{"id":"pz-53","zid":"53","x":585,"y":117,"label":"81"},{"id":"pz-54","zid":"54","x":519,"y":201,"label":"68"},{"id":"pz-55","zid":"55","x":447,"y":273,"label":"35"},{"id":"pz-56","zid":"56","x":681,"y":87,"label":"49"},{"id":"pz-57","zid":"57","x":567,"y":243,"label":"9"},{"id":"pz-58","zid":"58","x":507,"y":267,"label":"66"},{"id":"pz-59","zid":"59","x":633,"y":177,"label":"46"},{"id":"pz-60","zid":"60","x":459,"y":399,"label":"22"},{"id":"pz-61","zid":"61","x":681,"y":195,"label":"23"},{"id":"pz-62","zid":"62","x":573,"y":255,"label":"55"},{"id":"pz-63","zid":"63","x":417,"y":357,"label":"44"},{"id":"pz-64","zid":"64","x":609,"y":327,"label":"78"},{"id":"pz-65","zid":"65","x":417,"y":405,"label":"86"},{"id":"pz-66","zid":"66","x":453,"y":369,"label":"84"},{"id":"pz-67","zid":"67","x":525,"y":45,"label":"39"},{"id":"pz-68","zid":"68","x":549,"y":213,"label":"15"},{"id":"pz-69","zid":"69","x":507,"y":447,"label":"1"},{"id":"pz-70","zid":"70","x":537,"y":375,"label":"62"},{"id":"pz-71","zid":"71","x":375,"y":267,"label":"40"},{"id":"pz-72","zid":"72","x":477,"y":375,"label":"21"},{"id":"pz-73","zid":"73","x":352.33832157129495,"y":144.05773180216337,"label":"73"},{"id":"pz-74","zid":"74","x":567,"y":375,"label":"31"},{"id":"pz-75","zid":"75","x":615,"y":393,"label":"43"},{"id":"pz-76","zid":"76","x":489,"y":195,"label":"67"},{"id":"pz-77","zid":"77","x":645,"y":399,"label":"87"},{"id":"pz-78","zid":"78","x":573,"y":405,"label":"71"},{"id":"pz-79","zid":"79","x":513,"y":297,"label":"28"},{"id":"pz-80","zid":"80","x":387,"y":159,"label":"56"},{"id":"pz-81","zid":"81","x":633,"y":435,"label":"41"},{"id":"pz-82","zid":"82","x":681,"y":177,"label":"5"},{"id":"pz-83","zid":"83","x":597,"y":429,"label":"61"},{"id":"pz-84","zid":"84","x":627,"y":123,"label":"48"},{"id":"pz-85","zid":"85","x":633,"y":483,"label":"51"},{"id":"pz-86","zid":"86","x":537,"y":447,"label":"20"},{"id":"pz-87","zid":"87","x":573,"y":471,"label":"30"}],"font_name":"Arial","font_size":6,"bg":"#0a0e1c","stroke":"#f5f6ff","move_seconds":1,"hold_seconds":0.2};
  const c = document.getElementById('c');
  const ctx = c.getContext('2d');
  const playBtn = document.getElementById('play');
  const slider = document.getElementById('slider');
  const W = DATA.canvas.w;
  const H = DATA.canvas.h;
  const GAP = DATA.gap;
  const totalW = (W * 2) + GAP;
  const totalH = H;
  function resize() {
    const w = window.innerWidth;
    const h = window.innerHeight - 120;
    const scale = Math.min(w / totalW, h / totalH) * 0.98;
    c.width = Math.floor(totalW * scale);
    c.height = Math.floor(totalH * scale);
    ctx.setTransform(scale, 0, 0, scale, 0, 0);
  }
  window.addEventListener('resize', resize);
  resize();

  const zoneLabelMap = DATA.zone_label_map || {};
  const zoneIds = Object.keys(DATA.zone_boundaries || {}).sort((a,b) => {
    const la = Number(zoneLabelMap[a] ?? a);
    const lb = Number(zoneLabelMap[b] ?? b);
    return la - lb;
  });
  const zoneIndex = {};
  zoneIds.forEach((z, i) => zoneIndex[String(z)] = i);
  const moveSec = DATA.move_seconds;
  const holdSec = DATA.hold_seconds;
  const perZone = moveSec + holdSec;
  const totalSec = zoneIds.length ? zoneIds.length * perZone : 1;
  let playing = false;
  let currentSec = 0;
  function easeOut(x) {
    if (x <= 0) return 0;
    if (x >= 1) return 1;
    return 1 - Math.pow(1 - x, 3);
  }
  function localFor(idx, t) {
    const rel = t - idx * perZone;
    if (rel <= 0) return 0;
    if (rel >= perZone) return 1;
    if (rel >= moveSec) return 1;
    return easeOut(rel / moveSec);
  }
  function rotatePt(pt, ang, cx, cy) {
    if (!ang) return pt;
    const r = ang * Math.PI / 180;
    const c = Math.cos(r), s = Math.sin(r);
    const x = pt[0] - cx;
    const y = pt[1] - cy;
    return [cx + x * c - y * s, cy + x * s + y * c];
  }
  function transformPath(pts, shift, rot, center) {
    const dx = (shift && shift[0]) || 0;
    const dy = (shift && shift[1]) || 0;
    const ang = rot || 0;
    const cx = (center && center[0]) || 0;
    const cy = (center && center[1]) || 0;
    return pts.map(p => {
      const r = rotatePt(p, ang, cx, cy);
      return [r[0] + dx, r[1] + dy];
    });
  }
  function drawPoly(pts, fill, stroke) {
    if (!pts || pts.length < 2) return;
    ctx.beginPath();
    ctx.moveTo(pts[0][0], pts[0][1]);
    for (let i = 1; i < pts.length; i++) ctx.lineTo(pts[i][0], pts[i][1]);
    ctx.closePath();
    if (fill) {
      ctx.fillStyle = fill;
      ctx.fill();
    }
    if (stroke) {
      ctx.strokeStyle = stroke;
      ctx.lineWidth = 1;
      ctx.stroke();
    }
  }
  function drawText(x, y, text) {
    ctx.font = DATA.font_size + "px " + DATA.font_name + ", Arial, sans-serif";
    ctx.fillStyle = '#ffffff';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(text, x, y);
  }

  const regions = DATA.regions || [];
  const zoneId = DATA.zone_id || [];
  const colors = DATA.region_colors || [];
  const zoneShift = DATA.zone_shift || {};
  const zoneRot = DATA.zone_rot || {};
  const zoneCenter = DATA.zone_center || {};
  const zoneLabels = DATA.zone_labels || {};
  const packedLabels = DATA.packed_labels || [];

  function render(tt) {
    ctx.clearRect(0, 0, totalW, totalH);

    // right stroke
    Object.keys(DATA.zone_boundaries || {}).forEach((zid) => {
      const paths = DATA.zone_boundaries[zid] || [];
      paths.forEach((p) => {
        const shifted = p.map(pt => [pt[0] + W + GAP, pt[1]]);
        drawPoly(shifted, null, DATA.stroke);
      });
    });

    // moving index text
    const activeIdx = zoneIds.length ? Math.min(zoneIds.length - 1, Math.max(0, Math.floor(tt / perZone))) : -1;
    const activeZid = activeIdx >= 0 ? zoneIds[activeIdx] : null;
    const activeLabel = activeZid != null ? (zoneLabelMap[activeZid] ?? activeZid) : '-';
    document.getElementById('moving').textContent = "Moving index: " + activeLabel;

    // fill regions (move)
    regions.forEach((poly, ridx) => {
      if (!poly || !poly.length) return;
      const zid = zoneId[ridx];
      const zoneIdx = zoneIndex[String(zid)] ?? 0;
      const local = localFor(zoneIdx, tt);
      const shift = zoneShift[zid] || zoneShift[String(zid)] || [0,0];
      const rot = zoneRot[zid] || zoneRot[String(zid)] || 0;
      const center = zoneCenter[zid] || zoneCenter[String(zid)] || [0,0];
      const src = transformPath(poly, shift, rot, center);
      const dst = poly.map(pt => [pt[0] + W + GAP, pt[1]]);
      const pts = local >= 1 ? dst : src.map((sp, k) => {
        const dp = dst[k] || sp;
        return [sp[0] + (dp[0] - sp[0]) * local, sp[1] + (dp[1] - sp[1]) * local];
      });
      drawPoly(pts, colors[ridx] || '#ffffff', null);
    });

    // packed labels left
    packedLabels.forEach((lbl) => {
      const zid = lbl.zid;
      const zoneIdx = zoneIndex[String(zid)] ?? 0;
      const local = localFor(zoneIdx, tt);
      if (local > 0) return;
      drawText(lbl.x, lbl.y, String(lbl.label));
    });

    // zone labels right
    Object.keys(zoneLabels).forEach((zid) => {
      const lbl = zoneLabels[zid];
      if (!lbl) return;
      drawText(lbl.x + W + GAP, lbl.y, String(lbl.label));
    });

    if (tt < totalSec) {
      return;
    }
  }

  function updateUI() {
    const ratio = totalSec ? currentSec / totalSec : 0;
    slider.value = String(Math.max(0, Math.min(1, ratio)));
  }

  function step(ts) {
    if (!playing) return;
    if (!step.last) step.last = ts;
    const dt = (ts - step.last) / 1000;
    step.last = ts;
    currentSec = Math.min(totalSec, currentSec + dt);
    updateUI();
    render(currentSec);
    if (currentSec >= totalSec) {
      playing = false;
      playBtn.textContent = "Play";
      return;
    }
    requestAnimationFrame(step);
  }

  function setPlayIcon() {
    playBtn.innerHTML = playing
      ? '<svg viewBox="0 0 20 20" width="16" height="16" aria-hidden="true"><rect x="4" y="3" width="4" height="14" fill="currentColor" /><rect x="12" y="3" width="4" height="14" fill="currentColor" /></svg>'
      : '<svg viewBox="0 0 20 20" width="16" height="16" aria-hidden="true"><polygon points="6,4 16,10 6,16" fill="currentColor" /></svg>';
  }

  playBtn.addEventListener('click', () => {
    playing = !playing;
    setPlayIcon();
    if (playing) {
      step.last = null;
      requestAnimationFrame(step);
    }
  });

  slider.addEventListener('input', (e) => {
    const v = parseFloat(e.target.value || "0");
    currentSec = Math.max(0, Math.min(totalSec, v * totalSec));
    updateUI();
    render(currentSec);
  });

  setPlayIcon();
  updateUI();
  render(currentSec);
  </script>
</body>
</html>
